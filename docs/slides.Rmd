---
title: "Adding figures in R Markdown"
subtitle: "15â€™ class for the R-Studio Certification"  
author: 
  - "**[Beatriz Milz](https://beatrizmilz.com)** <a href='mailto:beatriz.milz@usp.br'><i class='far fa-envelope'></i></a>  <a href='https://twitter.com/BeaMilz'><i class='fab fa-twitter'></i>   <a href='https://github.com/beatrizmilz'><i class='fab fa-github'></i></a> <a href='https://orcid.org/0000-0002-3064-4486'><i class='fab fa-orcid'></i></a>   <a href='http://lattes.cnpq.br/5150665880581477'><i class='ai ai-lattes'></i></a> "
date: "September, 2020 <br> <h4>Hex-sticker wall as background image made by <a href='https://www.amelia.mn/blog/misc/2019/08/17/Tidy-Dress.html'>Amelia McNamara</a>. </h4>"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: [xaringan-themer.css, custom.css]
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
class: center, middle


```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(warning = FALSE)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color = "#4066ad",
  secondary_color = "#409dad",
  inverse_header_color = "#FFFFFF"
)

xaringanExtra::use_panelset()
```


```{r xaringanExtra-share-again, echo=FALSE}
xaringanExtra::use_share_again()
```


<!-- inicio font awesome -->
<script src="https://kit.fontawesome.com/1f72d6921a.js" crossorigin="anonymous"></script>
<!-- final font awesome -->

<!-- inicio academic icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

<!-- final academic icons -->

## Previous classes



### R Markdown!  `r emo::ji("woman_technologist")`


???
- Open RStudio, create new Rmarkdown file, talk about the structure of the file: yaml, markdown, R Code. Talk about chunk options.

---
class: inverse, middle, center

## How to add figures to an R Markdown report?

<!-- -- -->
<!-- ### `r emo::ji("heavy plus sign")` Using R Code -->

<!-- -- -->
<!-- ### `r emo::ji("heavy plus sign")` To generate HTML outputs -->

---

## How to add figures to an R Markdown report?


<!-- - The aim is to generate HTML code: -->

<!-- `<img src="file path" alt="description of image">` -->

<!-- -- -->

- __Markdown__. For example: `![description of image](file path)`

- __R__. For example: `knitr::include_graphics()`

--

- Let's practice using R code!

  - With `knitr`

  - Generated by other R code, such as `ggplot`


---
## Adding an figure with knitr

- Function `include_graphics()` from the package `knitr` 

.panelset[
.panel[.panel-name[Complete URL]

```{r}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[Image saved in the project]

```{r}
knitr::include_graphics("img/rmarkdown.png")
```

]

]



---

### Output 


.panelset[
.panel[.panel-name[Don't show the code]
- `echo = FALSE`  

```{r echo=FALSE}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[Show the code]

- `echo = TRUE`  

```{r echo=TRUE}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]


]

---

### Align

.panelset[
.panel[.panel-name[Default]
- `fig.align='default'`  

```{r echo=FALSE, fig.align='default'}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[Left]

- `fig.align='left'`  

```{r echo=FALSE, fig.align='left'}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[Center]

- `fig.align='center'`  

```{r echo=FALSE, fig.align='center'}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[Right]

- `fig.align='right'`  

```{r echo=FALSE, fig.align='right'}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]


]

---

### Size - Relative

- `out.width="__%"` - Percentage of width of the page  

.panelset[

.panel[.panel-name[25%]

```{r echo=FALSE, fig.align='center', out.width="25%"}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[50%]

```{r echo=FALSE, fig.align='center', out.width="50%"}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[75%]

```{r echo=FALSE, fig.align='center', out.width="75%"}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[100%]

```{r echo=FALSE, fig.align='center', out.width="100%"}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

]






---

### Size - Absolute

- `out.width="__px"` - Size in pixels 


.panelset[

.panel[.panel-name[out.width="100px"]

```{r echo=FALSE, fig.align='center', out.width="100px"}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]

.panel[.panel-name[out.width="300px"]

```{r echo=FALSE, fig.align='center', out.width="300px"}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

]


]



---

### Caption

- `fig.cap="caption text"` 

`fig.cap="Image of knitr package. From https://yihui.org/knitr/"`

```{r echo=TRUE, fig.align='center', fig.cap="Image of knitr package. From https://yihui.org/knitr/", out.width="25%"}
knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png")
```

```{r eval=FALSE, include=FALSE}
# 
# <!-- .panelset[ -->
# <!-- .panel[.panel-name[Simple caption] -->
# <!-- ] -->
# 
# <!-- .panel[.panel-name[and line breaks] -->
# 
# <!-- - You can use HTML tags, such as `<br>` (line break): -->
# 
# <!-- `fig.cap="Image of knitr package. <br> From https://yihui.org/knitr/"` -->
# 
# <!-- ```{r echo=FALSE, fig.align='center', out.width="25%", fig.cap="Image of knitr package. <br> From https://yihui.org/knitr/"} -->
# <!-- knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png") -->
# <!-- ``` -->
# <!-- ] -->
# 
# 
# 
# 
# <!-- .panel[.panel-name[and links] -->
# 
# <!-- - You can use HTML tags, such as `<a>` (hiperlink): -->
# 
# <!-- `fig.cap="Image of knitr package. <br> From <a href='https://yihui.org/knitr/'> knitr package webpage</a>"` -->
# 
# <!-- ```{r echo=FALSE, fig.align='center', out.width="25%", fig.cap="Image of knitr package. <br> From <a href='https://yihui.org/knitr/'> knitr package webpage</a>"} -->
# <!-- knitr::include_graphics("https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png") -->
# <!-- ``` -->
# 
# <!-- - `r emo::ji("warning")` Markdown code does **not** work with `fig.cap`. -->
# 
# <!-- ] -->
# 
# 
# 
# <!-- ] -->
```


---
### Generated by R Code (Ex: ggplot graphs)



```{r pinguins1, message=FALSE, warning=FALSE, fig.align='center', fig.width=6, fig.height=3 , dpi=600}
library(tidyverse) ; library(dados)

penguin_graph <- pinguins %>% 
  ggplot(aes(x = massa_corporal, y = especies, fill = ilha)) +
  geom_boxplot()+ theme_light()

penguin_graph
```

---

### Size - Absolute

- `fig.width=__` or `fig.heigth=__` - Size in inches. 

- Only works with figures generated with R code.

.panelset[

.panel[.panel-name[fig.width=6, fig.height=4]

```{r pinguins2, echo=FALSE, fig.align='center', fig.width=6, fig.height=4}
penguin_graph
```

]

.panel[.panel-name[fig.width=10, fig.height=5]

```{r pinguins3, echo=FALSE, fig.align='center', fig.width=10, fig.height=5}
penguin_graph
```

]


]
---
## Resolution of the figure

- `dpi` - dots per inch

.panelset[

.panel[.panel-name[dpi = 100]

```{r pinguins4, echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, dpi=100, fig.width=7, fig.height=4 }
penguin_graph
```

]

.panel[.panel-name[dpi = 600]

```{r pinguins5, echo=FALSE, fig.align='center', message=FALSE, warning=FALSE, dpi=600, fig.width=6, fig.height=3 }
penguin_graph
```

]


]



---
# Exercises 


```{r echo=FALSE}
xaringanExtra::embed_xaringan(
  url = "https://beatriz-milz.shinyapps.io/formative_assessment/"#,
#  ratio = "3:2"
)
```

[<i class="fas fa-external-link-alt"></i> Open full page](https://beatriz-milz.shinyapps.io/formative_assessment/)

---
class: inverse, middle, center

# Thank you!

Slides made with the R packages [xaringan](https://github.com/yihui/xaringan), [xaringanthemer](https://github.com/gadenbuie/xaringanthemer) and [xaringanExtra](https://github.com/gadenbuie/xaringanExtra).


Hex-sticker wall as background image made by [Amelia McNamara](https://www.amelia.mn/blog/misc/2019/08/17/Tidy-Dress.html).


